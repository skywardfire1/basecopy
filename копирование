#/bin/sh

# Версия 0.8
# Единственное, чего (пока) нет в этом скрипте -- это проверка монтирования директорий, и их монтирование в случае необходимости

# Задаём исходную директорию и директорию назначения, в виде переменных, для удобства
SOURCEDIR=/mnt/tmp
DESTDIR=/mnt/000/000/AccessBase

# В этой переменной у нас будет день недели, по-русски, полным словом, без сокращения
CATALOG=0`date +%u`_`date +%A`


# Почему бы и не сформировать файл отчёта
LOGFILE=/home/sa/logfile

echo "Начинаем процедуру резервного копирования файлов базы. Дата:" `date +%A\,\ %x` > $LOGFILE

# Сделаем всё двумя простыми циклами, таким образом достаточно добавить любое имя файла сюда, и он будет включен в работу

if ! [ -d $DESTDIR/$CATALOG ]; then mkdir $DESTDIR/$CATALOG ; fi # Сначала создаём каталог


for n in MarketN_be.mde Marketing_be.mdb MarketN_CRM_be.mde Shops_be.mdb Dohod.mde diagrams.mde ; do

cp $SOURCEDIR/$n $DESTDIR/$CATALOG
echo "Файл" $n "успешно скопирован в каталог" $CATALOG "на сервере." >> $LOGFILE

done
